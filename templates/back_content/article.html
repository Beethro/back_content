{% extends "admin/core/base.html" %}
{% load foundation %}
{% load static from staticfiles %}
{% load i18n %}

{% block title %}Supporters{% endblock %}

{% block body %}
    <section class="content">
        <div class="row expanded">
            <div class="large-12 columns box">
                <div class="title-area">
                    <h2>Add A New Article</h2>
                    <a href="#" class="button"><i class="fa fa-upload">&nbsp;</i>Submit JATS XML for Import</a>
                </div>
                <div class="content">
                    <div class="large-6 columns">
                    <label for="id_title">{% trans "Title" %}</label>
                    {{ article_form.title }}
                    {{ article_form.title.errors }}
                </div>
                <div class="large-6 columns">
                    <label for="id_subtitle">{% trans "Subtitle" %}</label>
                    {{ article_form.subtitle }}
                    {{ article_form.subtitle.errors }}
                </div>
                <div class="large-12 columns">
                    <label for="id_abstract">{% trans "Abstract" %}{% if form.abstract.field.required %}*{% endif %}</label>
                    {{ article_form.abstract }}
                    {{ article_form.abstract.errors }}
                </div>
                <div class="large-4 columns">
                    <label for="id_language">{% trans "Language" %}</label>
                    {{ article_form.language }}
                    {{ article_form.language.errors }}
                </div>
                <div class="large-4 columns">
                    <label for="id_section">{% trans "Section" %}</label>
                    {{ article_form.section }}
                    {{ article_form.section.errors }}
                </div>
                <div class="large-4 columns error">
                    <label for="id_license">{% if article_form.license.errors %}<span style="color: red;">{% endif %}{% trans "License" %}{% if article_form.license.errors %}</span>{% endif %}{% if article_form.license.field.required %}*{% endif %}</label>
                    {{ article_form.license }}
                    {{ article_form.license.errors }}
                </div>
                <div class="large-12 columns">
                    <label for="id_keywords">Keywords</label>
                    <input type="text" id="id_keywords" name="keywords" value="{% if article_form.cleaned_data.keywords %}{{ article_form.cleaned_data.keywords }}{% else %}{% for keyword in article.keywords.all %}{{ keyword.word }}{% if not forloop.last %},{% endif %}{% endfor %}{% endif %}"/> Hit Enter to add a new keyword.
                </div>

                <div class="large-12 columns">
                    <button class="success button pull-right" type="submit" name="start_submission"><i
                            class="fa fa-check">&nbsp;</i>{% trans "Save and Continue" %}
                    </button>
                </div>
                </div>
            </div>
        </div>
    </section>
{% endblock %}

{% block js %}
<link rel="stylesheet" href="http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
<script type="text/javascript" src="{% static "dist/js/jq-ui.min.js" %}"></script>
<script src="{% static "dist/js/admin/tagit.js" %}"></script>

<script type="text/javascript">
  $(document).ready(function() {
      $("#id_keywords").tagit(
        {allowSpaces: true});
  });
</script>
{% endblock %}